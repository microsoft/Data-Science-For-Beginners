<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "cc490897ee2d276870472bcb31602d03",
  "translation_date": "2025-09-04T12:21:35+00:00",
  "source_file": "3-Data-Visualization/11-visualization-proportions/README.md",
  "language_code": "zh"
}
-->
# å¯è§†åŒ–æ¯”ä¾‹

|![ç”± [(@sketchthedocs)](https://sketchthedocs.dev) ç»˜åˆ¶çš„è‰å›¾ç¬”è®°](../../sketchnotes/11-Visualizing-Proportions.png)|
|:---:|
|å¯è§†åŒ–æ¯”ä¾‹ - _è‰å›¾ç¬”è®°ç”± [@nitya](https://twitter.com/nitya) ç»˜åˆ¶_ |

åœ¨æœ¬è¯¾ä¸­ï¼Œä½ å°†ä½¿ç”¨ä¸€ä¸ªä»¥è‡ªç„¶ä¸ºä¸»é¢˜çš„æ•°æ®é›†æ¥å¯è§†åŒ–æ¯”ä¾‹ï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªå…³äºè˜‘è‡çš„æ•°æ®é›†ä¸­ï¼Œä¸åŒç±»å‹çš„çœŸèŒæ•°é‡å æ¯”ã€‚è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¥è‡ª Audubon çš„æ•°æ®é›†æ¥æ¢ç´¢è¿™äº›è¿·äººçš„çœŸèŒï¼Œè¯¥æ•°æ®é›†åˆ—å‡ºäº† Agaricus å’Œ Lepiota å®¶æ—ä¸­ 23 ç§æœ‰é³ƒè˜‘è‡çš„è¯¦ç»†ä¿¡æ¯ã€‚ä½ å°†å°è¯•ä¸€äº›æœ‰è¶£çš„å¯è§†åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š

- é¥¼å›¾ ğŸ¥§
- ç¯å½¢å›¾ ğŸ©
- åå¤«å›¾ ğŸ§‡

> ğŸ’¡ ä¸€ä¸ªéå¸¸æœ‰è¶£çš„é¡¹ç›® [Charticulator](https://charticulator.com) ç”±å¾®è½¯ç ”ç©¶é™¢å¼€å‘ï¼Œæä¾›äº†ä¸€ä¸ªå…è´¹çš„æ‹–æ”¾å¼æ•°æ®å¯è§†åŒ–ç•Œé¢ã€‚åœ¨ä»–ä»¬çš„ä¸€ä¸ªæ•™ç¨‹ä¸­ä¹Ÿä½¿ç”¨äº†è¿™ä¸ªè˜‘è‡æ•°æ®é›†ï¼å› æ­¤ï¼Œä½ å¯ä»¥ä¸€è¾¹æ¢ç´¢æ•°æ®ä¸€è¾¹å­¦ä¹ è¿™ä¸ªåº“ï¼š[Charticulator æ•™ç¨‹](https://charticulator.com/tutorials/tutorial4.html)ã€‚

## [è¯¾åæµ‹éªŒ](https://ff-quizzes.netlify.app/en/ds/)

## äº†è§£ä½ çš„è˜‘è‡ ğŸ„

è˜‘è‡éå¸¸æœ‰è¶£ã€‚è®©æˆ‘ä»¬å¯¼å…¥ä¸€ä¸ªæ•°æ®é›†æ¥ç ”ç©¶å®ƒä»¬ï¼š

```python
import pandas as pd
import matplotlib.pyplot as plt
mushrooms = pd.read_csv('../../data/mushrooms.csv')
mushrooms.head()
```
ä¸€ä¸ªåŒ…å«ä¸°å¯Œåˆ†ææ•°æ®çš„è¡¨æ ¼è¢«æ‰“å°å‡ºæ¥ï¼š


| ç±»åˆ«       | èŒç›–å½¢çŠ¶ | èŒç›–è¡¨é¢ | èŒç›–é¢œè‰² | æ˜¯å¦æœ‰ç˜€ä¼¤ | æ°”å‘³    | é³ƒé™„ç€æ–¹å¼   | é³ƒé—´è·     | é³ƒå¤§å°   | é³ƒé¢œè‰²   | èŒå½¢çŠ¶     | èŒæ ¹éƒ¨     | èŒç¯ä¸Šè¡¨é¢             | èŒç¯ä¸‹è¡¨é¢             | èŒç¯ä¸Šé¢œè‰²             | èŒç¯ä¸‹é¢œè‰²             | å¹”ç±»å‹     | å¹”é¢œè‰²     | ç¯æ•°é‡     | ç¯ç±»å‹     | å­¢å­å°é¢œè‰²         | ç§ç¾¤       | æ –æ¯åœ°     |
| --------- | --------- | --------- | --------- | --------- | ------- | ----------- | ----------- | --------- | --------- | --------- | --------- | -------------------- | -------------------- | -------------------- | -------------------- | --------- | --------- | --------- | --------- | --------------- | --------- | --------- |
| æœ‰æ¯’      | å‡¸å½¢      | å…‰æ»‘      | æ£•è‰²      | æœ‰ç˜€ä¼¤    | åˆºé¼»    | æ¸¸ç¦»         | ç´§å¯†         | ç‹­çª„      | é»‘è‰²      | è†¨å¤§       | ç­‰ç²—       | å…‰æ»‘                 | å…‰æ»‘                 | ç™½è‰²                 | ç™½è‰²                 | éƒ¨åˆ†       | ç™½è‰²       | ä¸€ä¸ª       | ä¸‹å‚       | é»‘è‰²             | åˆ†æ•£       | åŸå¸‚       |
| å¯é£Ÿç”¨    | å‡¸å½¢      | å…‰æ»‘      | é»„è‰²      | æœ‰ç˜€ä¼¤    | æä»å‘³  | æ¸¸ç¦»         | ç´§å¯†         | å®½å¤§      | é»‘è‰²      | è†¨å¤§       | æ£çŠ¶       | å…‰æ»‘                 | å…‰æ»‘                 | ç™½è‰²                 | ç™½è‰²                 | éƒ¨åˆ†       | ç™½è‰²       | ä¸€ä¸ª       | ä¸‹å‚       | æ£•è‰²             | ä¼—å¤š       | è‰åœ°       |
| å¯é£Ÿç”¨    | é’Ÿå½¢      | å…‰æ»‘      | ç™½è‰²      | æœ‰ç˜€ä¼¤    | èŒ´é¦™å‘³  | æ¸¸ç¦»         | ç´§å¯†         | å®½å¤§      | æ£•è‰²      | è†¨å¤§       | æ£çŠ¶       | å…‰æ»‘                 | å…‰æ»‘                 | ç™½è‰²                 | ç™½è‰²                 | éƒ¨åˆ†       | ç™½è‰²       | ä¸€ä¸ª       | ä¸‹å‚       | æ£•è‰²             | ä¼—å¤š       | è‰åŸ       |
| æœ‰æ¯’      | å‡¸å½¢      | é³ç‰‡çŠ¶    | ç™½è‰²      | æœ‰ç˜€ä¼¤    | åˆºé¼»    | æ¸¸ç¦»         | ç´§å¯†         | ç‹­çª„      | æ£•è‰²      | è†¨å¤§       | ç­‰ç²—       | å…‰æ»‘                 | å…‰æ»‘                 | ç™½è‰²                 | ç™½è‰²                 | éƒ¨åˆ†       | ç™½è‰²       | ä¸€ä¸ª       | ä¸‹å‚       | é»‘è‰²             | åˆ†æ•£       | åŸå¸‚       |

ä½ ä¼šç«‹åˆ»æ³¨æ„åˆ°ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯æ–‡æœ¬æ ¼å¼ã€‚ä¸ºäº†åœ¨å›¾è¡¨ä¸­ä½¿ç”¨è¿™äº›æ•°æ®ï¼Œä½ éœ€è¦å°†å…¶è½¬æ¢ã€‚äº‹å®ä¸Šï¼Œå¤§éƒ¨åˆ†æ•°æ®æ˜¯ä»¥å¯¹è±¡å½¢å¼è¡¨ç¤ºçš„ï¼š

```python
print(mushrooms.select_dtypes(["object"]).columns)
```

è¾“å‡ºä¸ºï¼š

```output
Index(['class', 'cap-shape', 'cap-surface', 'cap-color', 'bruises', 'odor',
       'gill-attachment', 'gill-spacing', 'gill-size', 'gill-color',
       'stalk-shape', 'stalk-root', 'stalk-surface-above-ring',
       'stalk-surface-below-ring', 'stalk-color-above-ring',
       'stalk-color-below-ring', 'veil-type', 'veil-color', 'ring-number',
       'ring-type', 'spore-print-color', 'population', 'habitat'],
      dtype='object')
```
å°†è¿™äº›æ•°æ®è½¬æ¢ï¼Œå°† 'ç±»åˆ«' åˆ—è½¬æ¢ä¸ºåˆ†ç±»æ•°æ®ï¼š

```python
cols = mushrooms.select_dtypes(["object"]).columns
mushrooms[cols] = mushrooms[cols].astype('category')
```

```python
edibleclass=mushrooms.groupby(['class']).count()
edibleclass
```

ç°åœ¨ï¼Œå¦‚æœæ‰“å°å‡ºè˜‘è‡æ•°æ®ï¼Œä½ ä¼šçœ‹åˆ°å®ƒå·²ç»æ ¹æ®æœ‰æ¯’/å¯é£Ÿç”¨ç±»åˆ«åˆ†ç»„ï¼š

|           | èŒç›–å½¢çŠ¶ | èŒç›–è¡¨é¢ | èŒç›–é¢œè‰² | æ˜¯å¦æœ‰ç˜€ä¼¤ | æ°”å‘³ | é³ƒé™„ç€æ–¹å¼   | é³ƒé—´è·     | é³ƒå¤§å°   | é³ƒé¢œè‰²   | èŒå½¢çŠ¶     | ... | èŒç¯ä¸‹è¡¨é¢             | èŒç¯ä¸Šé¢œè‰²             | èŒç¯ä¸‹é¢œè‰²             | å¹”ç±»å‹     | å¹”é¢œè‰²     | ç¯æ•°é‡     | ç¯ç±»å‹     | å­¢å­å°é¢œè‰²         | ç§ç¾¤       | æ –æ¯åœ°     |
| --------- | --------- | --------- | --------- | --------- | ---- | ----------- | ----------- | --------- | --------- | --------- | --- | -------------------- | -------------------- | -------------------- | --------- | --------- | --------- | --------- | --------------- | --------- | --------- |
| ç±»åˆ«       |           |           |           |           |      |             |             |           |           |           |     |                      |                      |                      |           |           |           |           |                 |           |           |
| å¯é£Ÿç”¨    | 4208      | 4208      | 4208      | 4208      | 4208 | 4208        | 4208        | 4208      | 4208      | 4208      | ... | 4208                 | 4208                 | 4208                 | 4208      | 4208      | 4208      | 4208      | 4208            | 4208      | 4208      |
| æœ‰æ¯’      | 3916      | 3916      | 3916      | 3916      | 3916 | 3916        | 3916        | 3916      | 3916      | 3916      | ... | 3916                 | 3916                 | 3916                 | 3916      | 3916      | 3916      | 3916      | 3916            | 3916      | 3916      |

å¦‚æœæŒ‰ç…§æ­¤è¡¨ä¸­çš„é¡ºåºåˆ›å»ºç±»åˆ«æ ‡ç­¾ï¼Œä½ å¯ä»¥ç»˜åˆ¶ä¸€ä¸ªé¥¼å›¾ï¼š

## é¥¼å›¾ï¼

```python
labels=['Edible','Poisonous']
plt.pie(edibleclass['population'],labels=labels,autopct='%.1f %%')
plt.title('Edible?')
plt.show()
```
ç§ï¼Œä¸€ä¸ªå±•ç¤ºè˜‘è‡æ•°æ®ä¸­ä¸¤ç±»æ¯”ä¾‹çš„é¥¼å›¾ã€‚è¿™é‡Œç¡®ä¿æ ‡ç­¾æ•°ç»„çš„é¡ºåºæ­£ç¡®éå¸¸é‡è¦ï¼Œå› æ­¤ä¸€å®šè¦éªŒè¯æ ‡ç­¾çš„é¡ºåºï¼

![é¥¼å›¾](../../../../translated_images/pie1-wb.e201f2fcc335413143ce37650fb7f5f0bb21358e7823a327ed8644dfb84be9db.zh.png)

## ç¯å½¢å›¾ï¼

ç¯å½¢å›¾æ˜¯é¥¼å›¾çš„ä¸€ç§å˜ä½“ï¼Œä¸­é—´æœ‰ä¸€ä¸ªç©ºæ´ã€‚è®©æˆ‘ä»¬ç”¨è¿™ç§æ–¹æ³•æŸ¥çœ‹æ•°æ®ã€‚

çœ‹çœ‹è˜‘è‡ç”Ÿé•¿çš„å„ç§æ –æ¯åœ°ï¼š

```python
habitat=mushrooms.groupby(['habitat']).count()
habitat
```
è¿™é‡Œï¼Œä½ å°†æ•°æ®æŒ‰æ –æ¯åœ°åˆ†ç»„ã€‚å…±æœ‰ 7 ç§æ –æ¯åœ°ï¼Œå› æ­¤å°†å®ƒä»¬ç”¨ä½œç¯å½¢å›¾çš„æ ‡ç­¾ï¼š

```python
labels=['Grasses','Leaves','Meadows','Paths','Urban','Waste','Wood']

plt.pie(habitat['class'], labels=labels,
        autopct='%1.1f%%', pctdistance=0.85)
  
center_circle = plt.Circle((0, 0), 0.40, fc='white')
fig = plt.gcf()

fig.gca().add_artist(center_circle)
  
plt.title('Mushroom Habitats')
  
plt.show()
```

![ç¯å½¢å›¾](../../../../translated_images/donut-wb.be3c12a22712302b5d10c40014d5389d4a1ae4412fe1655b3cf4af57b64f799a.zh.png)

è¿™æ®µä»£ç ç»˜åˆ¶äº†ä¸€ä¸ªå›¾è¡¨å’Œä¸€ä¸ªä¸­å¿ƒåœ†ï¼Œç„¶åå°†ä¸­å¿ƒåœ†æ·»åŠ åˆ°å›¾è¡¨ä¸­ã€‚é€šè¿‡æ›´æ”¹ `0.40` çš„å€¼å¯ä»¥è°ƒæ•´ä¸­å¿ƒåœ†çš„å®½åº¦ã€‚

ç¯å½¢å›¾å¯ä»¥é€šè¿‡å¤šç§æ–¹å¼è°ƒæ•´æ ‡ç­¾ä»¥æé«˜å¯è¯»æ€§ã€‚æ›´å¤šä¿¡æ¯è¯·å‚è€ƒ[æ–‡æ¡£](https://matplotlib.org/stable/gallery/pie_and_polar_charts/pie_and_donut_labels.html?highlight=donut)ã€‚

ç°åœ¨ä½ å·²ç»çŸ¥é“å¦‚ä½•åˆ†ç»„æ•°æ®å¹¶ä»¥é¥¼å›¾æˆ–ç¯å½¢å›¾æ˜¾ç¤ºï¼Œå¯ä»¥å°è¯•å…¶ä»–ç±»å‹çš„å›¾è¡¨ã€‚è¯•è¯•åå¤«å›¾ï¼Œè¿™æ˜¯ä¸€ç§ä¸åŒçš„æ•°é‡å¯è§†åŒ–æ–¹å¼ã€‚

## åå¤«å›¾ï¼

åå¤«å›¾æ˜¯ä¸€ç§ä»¥äºŒç»´æ–¹å—é˜µåˆ—å½¢å¼å±•ç¤ºæ•°é‡çš„å›¾è¡¨ã€‚è¯•ç€ç”¨è¿™ä¸ªæ•°æ®é›†å¯è§†åŒ–è˜‘è‡èŒç›–é¢œè‰²çš„ä¸åŒæ•°é‡ã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦å®‰è£…ä¸€ä¸ªåä¸º [PyWaffle](https://pypi.org/project/pywaffle/) çš„è¾…åŠ©åº“å¹¶ä½¿ç”¨ Matplotlibï¼š

```python
pip install pywaffle
```

é€‰æ‹©ä¸€éƒ¨åˆ†æ•°æ®è¿›è¡Œåˆ†ç»„ï¼š

```python
capcolor=mushrooms.groupby(['cap-color']).count()
capcolor
```

é€šè¿‡åˆ›å»ºæ ‡ç­¾å¹¶åˆ†ç»„æ•°æ®æ¥ç»˜åˆ¶åå¤«å›¾ï¼š

```python
import pandas as pd
import matplotlib.pyplot as plt
from pywaffle import Waffle
  
data ={'color': ['brown', 'buff', 'cinnamon', 'green', 'pink', 'purple', 'red', 'white', 'yellow'],
    'amount': capcolor['class']
     }
  
df = pd.DataFrame(data)
  
fig = plt.figure(
    FigureClass = Waffle,
    rows = 100,
    values = df.amount,
    labels = list(df.color),
    figsize = (30,30),
    colors=["brown", "tan", "maroon", "green", "pink", "purple", "red", "whitesmoke", "yellow"],
)
```

ä½¿ç”¨åå¤«å›¾ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°è¿™ä¸ªè˜‘è‡æ•°æ®é›†ä¸­èŒç›–é¢œè‰²çš„æ¯”ä¾‹ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæœ‰è®¸å¤šç»¿è‰²èŒç›–çš„è˜‘è‡ï¼

![åå¤«å›¾](../../../../translated_images/waffle.5455dbae4ccf17d53bb40ff0a657ecef7b8aa967e27a19cc96325bd81598f65e.zh.png)

âœ… PyWaffle æ”¯æŒåœ¨å›¾è¡¨ä¸­ä½¿ç”¨ä»»ä½• [Font Awesome](https://fontawesome.com/) æä¾›çš„å›¾æ ‡ã€‚å°è¯•ç”¨å›¾æ ‡ä»£æ›¿æ–¹å—ï¼Œåˆ›å»ºæ›´æœ‰è¶£çš„åå¤«å›¾ã€‚

åœ¨æœ¬è¯¾ä¸­ï¼Œä½ å­¦ä¹ äº†ä¸‰ç§å¯è§†åŒ–æ¯”ä¾‹çš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œä½ éœ€è¦å°†æ•°æ®åˆ†ç»„ä¸ºç±»åˆ«ï¼Œç„¶åå†³å®šå“ªç§æ–¹å¼æœ€é€‚åˆå±•ç¤ºæ•°æ®â€”â€”é¥¼å›¾ã€ç¯å½¢å›¾æˆ–åå¤«å›¾ã€‚æ‰€æœ‰è¿™äº›æ–¹æ³•éƒ½èƒ½å¿«é€Ÿä¸ºç”¨æˆ·æä¾›æ•°æ®é›†çš„å¿«ç…§ã€‚

## ğŸš€ æŒ‘æˆ˜

å°è¯•åœ¨ [Charticulator](https://charticulator.com) ä¸­é‡æ–°åˆ›å»ºè¿™äº›æœ‰è¶£çš„å›¾è¡¨ã€‚
## [è¯¾åæµ‹éªŒ](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/21)

## å¤ä¹ ä¸è‡ªå­¦

æœ‰æ—¶å¾ˆéš¾å†³å®šä½•æ—¶ä½¿ç”¨é¥¼å›¾ã€ç¯å½¢å›¾æˆ–åå¤«å›¾ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç›¸å…³æ–‡ç« ï¼š

https://www.beautiful.ai/blog/battle-of-the-charts-pie-chart-vs-donut-chart

https://medium.com/@hypsypops/pie-chart-vs-donut-chart-showdown-in-the-ring-5d24fd86a9ce

https://www.mit.edu/~mbarker/formula1/f1help/11-ch-c6.htm

https://medium.datadriveninvestor.com/data-visualization-done-the-right-way-with-tableau-waffle-chart-fdf2a19be402

é€šè¿‡ç ”ç©¶ï¼Œæ‰¾åˆ°æ›´å¤šå…³äºè¿™ä¸ªé€‰æ‹©çš„ç›¸å…³ä¿¡æ¯ã€‚

## ä½œä¸š

[åœ¨ Excel ä¸­å°è¯•](assignment.md)

---

**å…è´£å£°æ˜**ï¼š  
æœ¬æ–‡æ¡£ä½¿ç”¨AIç¿»è¯‘æœåŠ¡[Co-op Translator](https://github.com/Azure/co-op-translator)è¿›è¡Œç¿»è¯‘ã€‚å°½ç®¡æˆ‘ä»¬åŠªåŠ›ç¡®ä¿å‡†ç¡®æ€§ï¼Œä½†è¯·æ³¨æ„ï¼Œè‡ªåŠ¨ç¿»è¯‘å¯èƒ½åŒ…å«é”™è¯¯æˆ–ä¸å‡†ç¡®ä¹‹å¤„ã€‚åº”ä»¥åŸå§‹è¯­è¨€çš„æ–‡æ¡£ä½œä¸ºæƒå¨æ¥æºã€‚å¯¹äºå…³é”®ä¿¡æ¯ï¼Œå»ºè®®ä½¿ç”¨ä¸“ä¸šäººå·¥ç¿»è¯‘ã€‚å¯¹äºå› ä½¿ç”¨æœ¬ç¿»è¯‘è€Œå¼•èµ·çš„ä»»ä½•è¯¯è§£æˆ–è¯¯è¯»ï¼Œæˆ‘ä»¬æ¦‚ä¸è´Ÿè´£ã€‚