<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "47028abaaafa2bcb1079702d20569066",
  "translation_date": "2025-08-24T14:00:43+00:00",
  "source_file": "3-Data-Visualization/R/11-visualization-proportions/README.md",
  "language_code": "hk"
}
-->
# è¦–è¦ºåŒ–æ¯”ä¾‹

|![ç”± [(@sketchthedocs)](https://sketchthedocs.dev) ç¹ªè£½çš„é€Ÿè¨˜ç­†è¨˜](../../../sketchnotes/11-Visualizing-Proportions.png)|
|:---:|
|è¦–è¦ºåŒ–æ¯”ä¾‹ - _ç”± [@nitya](https://twitter.com/nitya) ç¹ªè£½çš„é€Ÿè¨˜ç­†è¨˜_ |

åœ¨é€™ç¯€èª²ä¸­ï¼Œä½ å°‡ä½¿ç”¨ä¸€å€‹ä»¥è‡ªç„¶ç‚ºä¸»é¡Œçš„æ•¸æ“šé›†ä¾†è¦–è¦ºåŒ–æ¯”ä¾‹ï¼Œä¾‹å¦‚åœ¨ä¸€å€‹é—œæ–¼è˜‘è‡çš„æ•¸æ“šé›†ä¸­æœ‰å¤šå°‘ä¸åŒç¨®é¡çš„çœŸèŒã€‚è®“æˆ‘å€‘ä½¿ç”¨ä¸€å€‹ä¾†è‡ª Audubon çš„æ•¸æ“šé›†ä¾†æ¢ç´¢é€™äº›è¿·äººçš„çœŸèŒï¼Œè©²æ•¸æ“šé›†åˆ—å‡ºäº† Agaricus å’Œ Lepiota å®¶æ—ä¸­ 23 ç¨®æœ‰é°“è˜‘è‡çš„è©³ç´°ä¿¡æ¯ã€‚ä½ å°‡å˜—è©¦ä¸€äº›æœ‰è¶£çš„è¦–è¦ºåŒ–æ–¹å¼ï¼Œä¾‹å¦‚ï¼š

- é¤…åœ– ğŸ¥§
- åœ“ç’°åœ– ğŸ©
- è¯å¤«åœ– ğŸ§‡

> ğŸ’¡ å¾®è»Ÿç ”ç©¶çš„ä¸€å€‹éå¸¸æœ‰è¶£çš„é …ç›® [Charticulator](https://charticulator.com) æä¾›äº†ä¸€å€‹å…è²»çš„æ‹–æ”¾ç•Œé¢ä¾†é€²è¡Œæ•¸æ“šè¦–è¦ºåŒ–ã€‚åœ¨ä»–å€‘çš„ä¸€å€‹æ•™ç¨‹ä¸­ï¼Œä»–å€‘ä¹Ÿä½¿ç”¨äº†é€™å€‹è˜‘è‡æ•¸æ“šé›†ï¼å› æ­¤ï¼Œä½ å¯ä»¥åŒæ™‚æ¢ç´¢æ•¸æ“šä¸¦å­¸ç¿’é€™å€‹åº«ï¼š[Charticulator æ•™ç¨‹](https://charticulator.com/tutorials/tutorial4.html)ã€‚

## [èª²å‰æ¸¬é©—](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/20)

## èªè­˜ä½ çš„è˜‘è‡ ğŸ„

è˜‘è‡éå¸¸æœ‰è¶£ã€‚è®“æˆ‘å€‘å°å…¥ä¸€å€‹æ•¸æ“šé›†ä¾†ç ”ç©¶å®ƒå€‘ï¼š

```r
mushrooms = read.csv('../../data/mushrooms.csv')
head(mushrooms)
```
ä¸€å€‹è¡¨æ ¼è¢«æ‰“å°å‡ºä¾†ï¼ŒåŒ…å«ä¸€äº›å¾ˆæ£’çš„åˆ†ææ•¸æ“šï¼š

| é¡åˆ¥       | èŒè“‹å½¢ç‹€ | èŒè“‹è¡¨é¢ | èŒè“‹é¡è‰² | æ˜¯å¦æœ‰ç˜€å‚· | æ°£å‘³    | é°“é™„è‘—æ–¹å¼ | é°“é–“è·     | é°“å¤§å°   | é°“é¡è‰²   | èŒæŸ„å½¢ç‹€   | èŒæŸ„æ ¹éƒ¨   | èŒæŸ„è¡¨é¢ï¼ˆç’°ä¸Šæ–¹ï¼‰ | èŒæŸ„è¡¨é¢ï¼ˆç’°ä¸‹æ–¹ï¼‰ | èŒæŸ„é¡è‰²ï¼ˆç’°ä¸Šæ–¹ï¼‰ | èŒæŸ„é¡è‰²ï¼ˆç’°ä¸‹æ–¹ï¼‰ | èŒå¹•é¡å‹ | èŒå¹•é¡è‰² | ç’°æ•¸é‡     | ç’°é¡å‹   | å­¢å­å°é¡è‰²       | åˆ†å¸ƒ       | æ£²æ¯åœ°   |
| --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- | ----------------- | ----------------- | ----------------- | ----------------- | --------- | --------- | --------- | --------- | --------- | --------- | --------- |
| æœ‰æ¯’      | å‡¸å½¢      | å…‰æ»‘      | æ£•è‰²      | æœ‰ç˜€å‚·    | åˆºé¼»     | è‡ªç”±       | ç·Šå¯†       | ç‹¹çª„     | é»‘è‰²     | æ“´å¤§       | ç­‰é•·       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | å‚æ‡¸     | é»‘è‰²             | åˆ†æ•£       | åŸå¸‚     |
| å¯é£Ÿç”¨    | å‡¸å½¢      | å…‰æ»‘      | é»ƒè‰²      | æœ‰ç˜€å‚·    | æä»å‘³   | è‡ªç”±       | ç·Šå¯†       | å¯¬å»£     | é»‘è‰²     | æ“´å¤§       | æ£ç‹€       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | å‚æ‡¸     | æ£•è‰²             | æ•¸é‡å¤š     | è‰åœ°     |
| å¯é£Ÿç”¨    | é˜å½¢      | å…‰æ»‘      | ç™½è‰²      | æœ‰ç˜€å‚·    | èŒ´é¦™å‘³   | è‡ªç”±       | ç·Šå¯†       | å¯¬å»£     | æ£•è‰²     | æ“´å¤§       | æ£ç‹€       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | å‚æ‡¸     | æ£•è‰²             | æ•¸é‡å¤š     | è‰åŸ     |
| æœ‰æ¯’      | å‡¸å½¢      | é±—ç‰‡ç‹€    | ç™½è‰²      | æœ‰ç˜€å‚·    | åˆºé¼»     | è‡ªç”±       | ç·Šå¯†       | ç‹¹çª„     | æ£•è‰²     | æ“´å¤§       | ç­‰é•·       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | å‚æ‡¸     | é»‘è‰²             | åˆ†æ•£       | åŸå¸‚     |
| å¯é£Ÿç”¨    | å‡¸å½¢      | å…‰æ»‘      | ç¶ è‰²      | ç„¡ç˜€å‚·    | ç„¡å‘³     | è‡ªç”±       | æ“æ“        | å¯¬å»£     | é»‘è‰²     | éŒå½¢       | ç­‰é•·       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | æ¶ˆå¤±     | æ£•è‰²             | è±å¯Œ       | è‰åœ°     |
| å¯é£Ÿç”¨    | å‡¸å½¢      | é±—ç‰‡ç‹€    | é»ƒè‰²      | æœ‰ç˜€å‚·    | æä»å‘³   | è‡ªç”±       | ç·Šå¯†       | å¯¬å»£     | æ£•è‰²     | æ“´å¤§       | æ£ç‹€       | å…‰æ»‘              | å…‰æ»‘              | ç™½è‰²              | ç™½è‰²              | éƒ¨åˆ†      | ç™½è‰²      | ä¸€å€‹       | å‚æ‡¸     | é»‘è‰²             | æ•¸é‡å¤š     | è‰åœ°     |

ä½ æœƒç«‹åˆ»æ³¨æ„åˆ°æ‰€æœ‰çš„æ•¸æ“šéƒ½æ˜¯æ–‡æœ¬å½¢å¼ã€‚ä½ éœ€è¦å°‡é€™äº›æ•¸æ“šè½‰æ›æ‰èƒ½åœ¨åœ–è¡¨ä¸­ä½¿ç”¨ã€‚äº‹å¯¦ä¸Šï¼Œå¤§éƒ¨åˆ†æ•¸æ“šæ˜¯ä»¥å°è±¡å½¢å¼è¡¨ç¤ºçš„ï¼š

```r
names(mushrooms)
```

è¼¸å‡ºç‚ºï¼š

```output
[1] "class"                    "cap.shape"               
 [3] "cap.surface"              "cap.color"               
 [5] "bruises"                  "odor"                    
 [7] "gill.attachment"          "gill.spacing"            
 [9] "gill.size"                "gill.color"              
[11] "stalk.shape"              "stalk.root"              
[13] "stalk.surface.above.ring" "stalk.surface.below.ring"
[15] "stalk.color.above.ring"   "stalk.color.below.ring"  
[17] "veil.type"                "veil.color"              
[19] "ring.number"              "ring.type"               
[21] "spore.print.color"        "population"              
[23] "habitat"            
```
å°‡é€™äº›æ•¸æ“šè½‰æ›ï¼Œå°‡ã€Œé¡åˆ¥ã€åˆ—è½‰æ›ç‚ºåˆ†é¡ï¼š

```r
library(dplyr)
grouped=mushrooms %>%
  group_by(class) %>%
  summarise(count=n())
```

ç¾åœ¨ï¼Œå¦‚æœä½ æ‰“å°å‡ºè˜‘è‡æ•¸æ“šï¼Œä½ æœƒçœ‹åˆ°å®ƒå·²æ ¹æ“šæœ‰æ¯’/å¯é£Ÿç”¨é¡åˆ¥åˆ†çµ„ï¼š

```r
View(grouped)
```

| é¡åˆ¥   | æ•¸é‡   |
| --------- | --------- |
| å¯é£Ÿç”¨   | 4208      |
| æœ‰æ¯’     | 3916      |

å¦‚æœä½ æŒ‰ç…§é€™å€‹è¡¨æ ¼ä¸­å‘ˆç¾çš„é †åºä¾†å‰µå»ºé¡åˆ¥æ¨™ç±¤ï¼Œä½ å¯ä»¥è£½ä½œä¸€å€‹é¤…åœ–ã€‚

## é¤…åœ–ï¼

```r
pie(grouped$count,grouped$class, main="Edible?")
```
å®Œæˆï¼Œä¸€å€‹é¤…åœ–å±•ç¤ºäº†æ ¹æ“šé€™å…©é¡è˜‘è‡çš„æ•¸æ“šæ¯”ä¾‹ã€‚åœ¨é€™è£¡ï¼Œæ­£ç¢ºçš„æ¨™ç±¤é †åºéå¸¸é‡è¦ï¼Œå› æ­¤è«‹å‹™å¿…ç¢ºèªæ¨™ç±¤æ•¸çµ„çš„æ§‹å»ºé †åºï¼

![é¤…åœ–](../../../../../3-Data-Visualization/R/11-visualization-proportions/images/pie1-wb.png)

## åœ“ç’°åœ–ï¼

ä¸€å€‹æ›´å…·è¦–è¦ºå¸å¼•åŠ›çš„é¤…åœ–æ˜¯åœ“ç’°åœ–ï¼Œå®ƒæ˜¯ä¸€å€‹ä¸­é–“æœ‰æ´çš„é¤…åœ–ã€‚è®“æˆ‘å€‘ç”¨é€™ç¨®æ–¹æ³•ä¾†æŸ¥çœ‹æˆ‘å€‘çš„æ•¸æ“šã€‚

çœ‹çœ‹è˜‘è‡ç”Ÿé•·çš„å„ç¨®æ£²æ¯åœ°ï¼š

```r
library(dplyr)
habitat=mushrooms %>%
  group_by(habitat) %>%
  summarise(count=n())
View(habitat)
```
è¼¸å‡ºç‚ºï¼š

| æ£²æ¯åœ°   | æ•¸é‡   |
| --------- | --------- |
| è‰åœ°     | 2148      |
| æ¨¹è‘‰     | 832       |
| è‰åŸ     | 292       |
| å°å¾‘     | 1144      |
| åŸå¸‚     | 368       |
| å»¢åœ°     | 192       |
| æ¨¹æœ¨     | 3148      |

åœ¨é€™è£¡ï¼Œä½ å°‡æ•¸æ“šæŒ‰æ£²æ¯åœ°åˆ†çµ„ã€‚å…±æœ‰ 7 ç¨®æ£²æ¯åœ°ï¼Œå› æ­¤ä½¿ç”¨é€™äº›ä½œç‚ºåœ“ç’°åœ–çš„æ¨™ç±¤ï¼š

```r
library(ggplot2)
library(webr)
PieDonut(habitat, aes(habitat, count=count))
```

![åœ“ç’°åœ–](../../../../../3-Data-Visualization/R/11-visualization-proportions/images/donut-wb.png)

é€™æ®µä»£ç¢¼ä½¿ç”¨äº†å…©å€‹åº«â€”â€”ggplot2 å’Œ webrã€‚ä½¿ç”¨ webr åº«çš„ PieDonut å‡½æ•¸ï¼Œæˆ‘å€‘å¯ä»¥è¼•é¬†å‰µå»ºåœ“ç’°åœ–ï¼

åœ¨ R ä¸­åƒ…ä½¿ç”¨ ggplot2 åº«ä¹Ÿå¯ä»¥è£½ä½œåœ“ç’°åœ–ã€‚ä½ å¯ä»¥åœ¨[é€™è£¡](https://www.r-graph-gallery.com/128-ring-or-donut-plot.html)äº†è§£æ›´å¤šä¸¦è‡ªå·±å˜—è©¦ã€‚

ç¾åœ¨ä½ çŸ¥é“å¦‚ä½•åˆ†çµ„æ•¸æ“šä¸¦ä»¥é¤…åœ–æˆ–åœ“ç’°åœ–é¡¯ç¤ºå®ƒï¼Œä½ å¯ä»¥æ¢ç´¢å…¶ä»–é¡å‹çš„åœ–è¡¨ã€‚è©¦è©¦è¯å¤«åœ–ï¼Œé€™æ˜¯ä¸€ç¨®ä¸åŒçš„æ–¹å¼ä¾†æ¢ç´¢æ•¸é‡ã€‚

## è¯å¤«åœ–ï¼

ã€Œè¯å¤«ã€é¡å‹çš„åœ–è¡¨æ˜¯ä¸€ç¨®ä»¥ 2D æ–¹æ ¼é™£åˆ—è¦–è¦ºåŒ–æ•¸é‡çš„æ–¹å¼ã€‚å˜—è©¦è¦–è¦ºåŒ–é€™å€‹æ•¸æ“šé›†ä¸­è˜‘è‡èŒè“‹é¡è‰²çš„ä¸åŒæ•¸é‡ã€‚ç‚ºæ­¤ï¼Œä½ éœ€è¦å®‰è£ä¸€å€‹åç‚º [waffle](https://cran.r-project.org/web/packages/waffle/waffle.pdf) çš„è¼”åŠ©åº«ï¼Œä¸¦ä½¿ç”¨å®ƒä¾†ç”Ÿæˆä½ çš„è¦–è¦ºåŒ–ï¼š

```r
install.packages("waffle", repos = "https://cinc.rud.is")
```

é¸æ“‡ä¸€æ®µæ•¸æ“šé€²è¡Œåˆ†çµ„ï¼š

```r
library(dplyr)
cap_color=mushrooms %>%
  group_by(cap.color) %>%
  summarise(count=n())
View(cap_color)
```

é€šéå‰µå»ºæ¨™ç±¤ä¸¦åˆ†çµ„æ•¸æ“šä¾†è£½ä½œè¯å¤«åœ–ï¼š

```r
library(waffle)
names(cap_color$count) = paste0(cap_color$cap.color)
waffle((cap_color$count/10), rows = 7, title = "Waffle Chart")+scale_fill_manual(values=c("brown", "#F0DC82", "#D2691E", "green", 
                                                                                     "pink", "purple", "red", "grey", 
                                                                                     "yellow","white"))
```

ä½¿ç”¨è¯å¤«åœ–ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°é€™å€‹è˜‘è‡æ•¸æ“šé›†ä¸­èŒè“‹é¡è‰²çš„æ¯”ä¾‹ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæœ‰å¾ˆå¤šç¶ è‰²èŒè“‹çš„è˜‘è‡ï¼

![è¯å¤«åœ–](../../../../../3-Data-Visualization/R/11-visualization-proportions/images/waffle.png)

åœ¨é€™ç¯€èª²ä¸­ï¼Œä½ å­¸åˆ°äº†ä¸‰ç¨®è¦–è¦ºåŒ–æ¯”ä¾‹çš„æ–¹æ³•ã€‚é¦–å…ˆï¼Œä½ éœ€è¦å°‡æ•¸æ“šåˆ†çµ„åˆ°åˆ†é¡ä¸­ï¼Œç„¶å¾Œæ±ºå®šå“ªç¨®æ–¹å¼æœ€é©åˆå±•ç¤ºæ•¸æ“šâ€”â€”é¤…åœ–ã€åœ“ç’°åœ–æˆ–è¯å¤«åœ–ã€‚é€™äº›æ–¹æ³•éƒ½å¾ˆæœ‰è¶£ï¼Œèƒ½è®“ç”¨æˆ¶å¿«é€Ÿäº†è§£æ•¸æ“šé›†ã€‚

## ğŸš€ æŒ‘æˆ°

å˜—è©¦åœ¨ [Charticulator](https://charticulator.com) ä¸­é‡ç¾é€™äº›æœ‰è¶£çš„åœ–è¡¨ã€‚

## [èª²å¾Œæ¸¬é©—](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/21)

## å›é¡§èˆ‡è‡ªå­¸

æœ‰æ™‚å€™ï¼Œä»€éº¼æ™‚å€™ä½¿ç”¨é¤…åœ–ã€åœ“ç’°åœ–æˆ–è¯å¤«åœ–ä¸¦ä¸æ˜é¡¯ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç›¸é—œæ–‡ç« ä¾›ä½ é–±è®€ï¼š

https://www.beautiful.ai/blog/battle-of-the-charts-pie-chart-vs-donut-chart

https://medium.com/@hypsypops/pie-chart-vs-donut-chart-showdown-in-the-ring-5d24fd86a9ce

https://www.mit.edu/~mbarker/formula1/f1help/11-ch-c6.htm

https://medium.datadriveninvestor.com/data-visualization-done-the-right-way-with-tableau-waffle-chart-fdf2a19be402

é€²è¡Œä¸€äº›ç ”ç©¶ï¼Œæ‰¾åˆ°æ›´å¤šé—œæ–¼é€™å€‹é¸æ“‡çš„ç›¸é—œä¿¡æ¯ã€‚

## ä½œæ¥­

[åœ¨ Excel ä¸­å˜—è©¦](assignment.md)

**å…è²¬è²æ˜**ï¼š  
æœ¬æ–‡ä»¶å·²ä½¿ç”¨äººå·¥æ™ºèƒ½ç¿»è­¯æœå‹™ [Co-op Translator](https://github.com/Azure/co-op-translator) é€²è¡Œç¿»è­¯ã€‚å„˜ç®¡æˆ‘å€‘è‡´åŠ›æ–¼æä¾›æº–ç¢ºçš„ç¿»è­¯ï¼Œè«‹æ³¨æ„è‡ªå‹•ç¿»è­¯å¯èƒ½åŒ…å«éŒ¯èª¤æˆ–ä¸æº–ç¢ºä¹‹è™•ã€‚åŸå§‹æ–‡ä»¶çš„æ¯èªç‰ˆæœ¬æ‡‰è¢«è¦–ç‚ºæ¬Šå¨ä¾†æºã€‚å°æ–¼é‡è¦ä¿¡æ¯ï¼Œå»ºè­°ä½¿ç”¨å°ˆæ¥­äººå·¥ç¿»è­¯ã€‚æˆ‘å€‘å°å› ä½¿ç”¨æ­¤ç¿»è­¯è€Œå¼•èµ·çš„ä»»ä½•èª¤è§£æˆ–éŒ¯èª¤è§£é‡‹æ¦‚ä¸è² è²¬ã€‚