<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "5da2d6b3736f6d668b89de9bf3bdd31b",
  "translation_date": "2025-09-04T20:02:15+00:00",
  "source_file": "5-Data-Science-In-Cloud/19-Azure/README.md",
  "language_code": "he"
}
-->
# 注 转 注: 专 砖 "Azure ML SDK"

|![ 住拽爪 转 [(@sketchthedocs)](https://sketchthedocs.dev) ](../../sketchnotes/19-DataScience-Cloud.png)|
|:---:|
| 注 转 注: Azure ML SDK - _住拽爪 转 [@nitya](https://twitter.com/nitya)_ |

转 注:

- [注 转 注: 专 砖 "Azure ML SDK"](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [砖 驻 砖注专](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [1. ](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [1.1  Azure ML SDK?](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [1.2 驻专拽  砖  专转 注 注专 转](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [2.   注 Azure ML SDK](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [2.1 爪专转 住转 注 砖 Azure ML](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [2.2 爪专转 驻注 砖](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [2.3 注转 注专 转](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [2.4 爪专转 专转](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [2.5  ](../../../../5-Data-Science-In-Cloud/19-Azure)
      - [2.5.1 专转 住转 注, 住, 砖 砖 注专 转](../../../../5-Data-Science-In-Cloud/19-Azure)
      - [2.5.2 专转 AutoML ](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [3. 驻专住转  爪专转 拽转 拽爪 注 Azure ML SDK](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [3.1 砖专转   转专](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [3.2 驻专住转 ](../../../../5-Data-Science-In-Cloud/19-Azure)
    - [3.3 爪专转 拽转 拽爪](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [ 转专](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [砖 专 砖注专](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [住拽专  注爪](../../../../5-Data-Science-In-Cloud/19-Azure)
  - [砖](../../../../5-Data-Science-In-Cloud/19-Azure)

## [砖 驻 砖注专](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/36)

## 1. 

### 1.1  Azure ML SDK?

注 转 驻转 转  转转 砖转砖 -Azure Machine Learning SDK  转 驻注 转 注 砖 转  注 砖专转 Azure Machine Learning. 转 注 注 砖专转  住 砖 Python,  Jupyter Notebooks, Visual Studio Code  住转 驻转 注驻转 注.

转 专 -SDK :

- 拽专,   专  砖 注专 转 砖砖 住 砖 转 .
-  砖 注 爪专 专, 专砖 专 住 转 .
-   驻 拽  爪注转 砖 注,    抓 注  GPU.
- 砖砖 转  转, 砖拽转 驻专专 转爪专 转 .  爪注转 驻  专爪转 注 专转 专转 驻专-驻专专  爪 转   转专 .
- 驻专住转 砖专转 专  驻 转   砖专转 RESTful 砖转 爪专  驻拽爪.

[注 住祝 注 Azure Machine Learning SDK](https://docs.microsoft.com/python/api/overview/azure/ml?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109)

砖注专 拽 [](../18-Low-Code/README.md), 专 爪 , 驻专住 爪专  爪专 砖 拽 注/ 拽. 砖转砖 注专 转 砖 砖   爪专   砖 . 砖注专 , 注砖 转 转 专  爪注转 Azure Machine Learning SDK.

![转转 驻专拽](../../../../translated_images/project-schema.420e56d495624541eaecf2b737f138c86fb7d8162bb1c0bf8783c350872ffc4d.he.png)

### 1.2 驻专拽  砖  专转 注 注专 转

拽 [](../18-Low-Code/README.md) 转 专转 注 驻专拽  砖  注专 转.

## 2.   注 Azure ML SDK
### 2.1 爪专转 住转 注 砖 Azure ML

爪专 驻砖转, 注 注 专转 Jupyter.  专 砖专 砖  住转 注 驻注 砖.  专 砖  住转 注, 转  砖专转 住注祝 2.3 爪专转 专转.

 ,  注拽 专 专转 住注祝 **2.1 爪专转 住转 注 砖 Azure ML** 砖注专 拽 [](../18-Low-Code/README.md)  爪专 住转 注.

### 2.2 爪专转 驻注 砖

住转 注 砖 [Azure ML](https://ml.azure.com/) 砖爪专 拽, 注专 转驻专 砖 转专 转 砖 砖 .

![驻注 砖 1](../../../../translated_images/compute-instance-1.dba347cb199ca4996b3e3d649295ed95626ba481479d3986557b9b98e76d8816.he.png)

 爪专 驻注 砖  驻注 专转 Jupyter. 
1. 爪 注 驻转专 + 砖. 
2. 转 砖 驻注 砖 砖.
3. 专 转 驻砖专转 砖: CPU  GPU,  VM 住驻专 转.
4. 爪 注 驻转专 爪专.

 , 爪专转 驻注 砖! 砖转砖 驻注   爪专 专转 住注祝 [爪专转 专转](../../../../5-Data-Science-In-Cloud/19-Azure).

### 2.3 注转 注专 转
注 砖注专 拽 [](../18-Low-Code/README.md) 住注祝 **2.3 注转 注专 转**  注  注转 转 注专 转.

### 2.4 爪专转 专转

> **_注专:_** 砖  转 爪专 专转 砖 驻住,  注转 转 [专转 砖爪专](notebook.ipynb) -Azure ML Studio 砖.  注转 转, 驻砖 爪 注 转驻专 "专转" 注 转 专转.

专转  拽 砖  转 注 转. 转 砖转砖  爪注 转 转 拽专 (EDA), 拽专 砖 砖   , 拽专 砖 住拽  驻专住 拽转 拽爪.

 爪专 专转,  拽拽 爪转 砖 砖驻注 驻注 专转 Jupyter. 专 住转 注 砖 [Azure ML](https://ml.azure.com/) 爪 注 驻注 砖. 专砖转 驻注 砖, 转 专 专转 转 [驻注 砖 砖爪专 拽](../../../../5-Data-Science-In-Cloud/19-Azure). 

1. 住注祝 驻拽爪转, 爪 注 驻砖专转 Jupyter. 
2. 住 转 转 ",  " 爪 注 驻转专 砖.
![专转 1](../../../../translated_images/notebook-1.12998af7b02c83f536c11b3aeba561be16e0f05e94146600728ec64270ce1105.he.png)
3.  专 驻转 砖转 驻驻 砖 注 驻注 专转 Jupyter 砖 驻 砖爪. 爪 注 驻转专 "砖"  爪专 专转.

![专转 2](../../../../translated_images/notebook-2.9a657c037e34f1cf26c0212f5ee9e2da8545b3e107c7682c55114e494167a8aa.he.png)

注砖 砖砖  专转,  转  转  注 Azure ML SDK.

### 2.5  

专砖转,  砖  住驻拽 砖, 注 转注 砖 [Azure ML SDK](https://docs.microsoft.com/python/api/overview/azure/ml?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109).   转  注 专砖 转  砖专 砖注专 .

#### 2.5.1 专转 住转 注, 住, 砖 砖 注专 转

注 注 转 `workspace` 拽抓 转爪专 爪注转 拽 :

```python
from azureml.core import Workspace
ws = Workspace.from_config()
```

 专 拽 住 `Workspace` 砖爪 转 住转 注. 专  注 爪专 `experiment` 爪注转 拽 :

```python
from azureml.core import Experiment
experiment_name = 'aml-experiment'
experiment = Experiment(ws, experiment_name)
```
 拽  爪专 住 住转 注, 拽砖 转 住 爪注转 砖 住. 砖 住  转 专 砖 3-36 转, 转 转  住驻专,   专拽 转转, 住驻专, 拽 转转 拽驻.  住  爪 住转 注, 爪专 住 砖.

注转 注 爪专 砖 砖  爪注转 拽 . 砖  砖砖  注砖 拽转  拽转. 

```python
from azureml.core.compute import AmlCompute

aml_name = "heart-f-cluster"
try:
    aml_compute = AmlCompute(ws, aml_name)
    print('Found existing AML compute context.')
except:
    print('Creating new AML compute context.')
    aml_config = AmlCompute.provisioning_configuration(vm_size = "Standard_D2_v2", min_nodes=1, max_nodes=3)
    aml_compute = AmlCompute.create(ws, name = aml_name, provisioning_configuration = aml_config)
    aml_compute.wait_for_completion(show_output = True)

cts = ws.compute_targets
compute_target = cts[aml_name]
```

转 拽 转 注专 转 住转 注 爪注转 砖 注专 转 专 :

```python
dataset = ws.datasets['heart-failure-records']
df = dataset.to_pandas_dataframe()
df.describe()
```
#### 2.5.2 专转 AutoML 

 专 转 转爪专转 AutoML, 砖转砖 拽 [AutoMLConfig](https://docs.microsoft.com/python/api/azureml-train-automl-client/azureml.train.automl.automlconfig(class)?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109).

驻 砖转专 转注, 砖 驻专专 专 砖转 砖拽 转. 注专 驻专拽 , 砖转砖 驻专专 :

- `experiment_timeout_minutes`:  专 (拽转) 砖住 专砖 驻注 驻 砖 注爪专 转 转爪转 注砖转 转.
- `max_concurrent_iterations`: 住驻专 专爪转 专 砖  拽 转专 住.
- `primary_metric`:  专砖 砖砖 拽注转 爪 住.
- `compute_target`: 注 砖 砖 Azure Machine Learning 砖 驻注 住 转  .
- `task`: 住 砖 驻注. 注专  转 'classification', 'regression',  'forecasting' 转 住 注转 转  转 砖砖 驻转专.
- `training_data`: 转  砖砖砖 转 住. 注   转转   注转 转转 (驻爪转 注转 砖拽 ).
- `label_column_name`: 砖 注转 转转.
- `path`: 转  转拽转 驻专拽 Azure Machine Learning.
- `enable_early_stopping`:  驻砖专 住 拽  爪  砖转驻专  拽爪专.
- `featurization`: 拽专  砖 爪注 砖 爪专转 转转 驻   ,   砖 砖转砖 爪专转 转转 转转 砖转.
- `debug_log`: 拽抓  转转 注 .

```python
from azureml.train.automl import AutoMLConfig

project_folder = './aml-project'

automl_settings = {
    "experiment_timeout_minutes": 20,
    "max_concurrent_iterations": 3,
    "primary_metric" : 'AUC_weighted'
}

automl_config = AutoMLConfig(compute_target=compute_target,
                             task = "classification",
                             training_data=dataset,
                             label_column_name="DEATH_EVENT",
                             path = project_folder,  
                             enable_early_stopping= True,
                             featurization= 'auto',
                             debug_log = "automl_errors.log",
                             **automl_settings
                            )
```
注转, 专 砖专转 转 转爪专, 转  转  爪注转 拽 . 砖  注砖 拽转 注 砖注 转  砖 砖.

```python
remote_run = experiment.submit(automl_config)
```
转 驻注 转 ' RunDetails  爪 转 住 砖.
```python
from azureml.widgets import RunDetails
RunDetails(remote_run).show()
```
## 3. 驻专住转  爪专转 拽转 拽爪 注 Azure ML SDK

### 3.1 砖专转   转专

-`remote_run`  拽 住 [AutoMLRun](https://docs.microsoft.com/python/api/azureml-train-automl-client/azureml.train.automl.run.automlrun?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109). 拽   转 砖 `get_output()` 砖专 转 专爪  转专 转  转.

```python
best_run, fitted_model = remote_run.get_output()
```
转 专转 转 驻专专 砖砖砖   转专 注  驻住转  转 专转 转 驻 砖   转专 爪注转 砖 [get_properties()](https://docs.microsoft.com/python/api/azureml-core/azureml.core.run(class)?view=azure-ml-py#azureml_core_Run_get_properties?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109).

```python
best_run.get_properties()
```

注转 专砖 转  爪注转 砖 [register_model](https://docs.microsoft.com/python/api/azureml-train-automl-client/azureml.train.automl.run.automlrun?view=azure-ml-py#register-model-model-name-none--description-none--tags-none--iteration-none--metric-none-?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109).
```python
model_name = best_run.properties['model_name']
script_file_name = 'inference/score.py'
best_run.download_file('outputs/scoring_file_v_1_0_0.py', 'inference/score.py')
description = "aml heart failure project sdk"
model = best_run.register_model(model_name = model_name,
                                model_path = './outputs/',
                                description = description,
                                tags = None)
```
### 3.2 驻专住转 

专 砖专转   转专, 转 驻专住 转 爪注转 拽 [InferenceConfig](https://docs.microsoft.com/python/api/azureml-core/azureml.core.model.inferenceconfig?view=azure-ml-py?ocid=AID3041109). InferenceConfig 爪转 转 专转 转爪专 住 转转 砖转 砖砖转 驻专住. 拽 [AciWebservice](https://docs.microsoft.com/python/api/azureml-core/azureml.core.webservice.aciwebservice?view=azure-ml-py) 爪转  转  砖驻专住 拽转 拽爪 砖 砖专转 专 注 Azure Container Instances. 砖专转 专 转拽  拽转 拽爪 HTTP 转 注住 注 API REST. 转 砖 转 -API  拽 转  砖 专.

 驻专住 爪注转 砖 [deploy](https://docs.microsoft.com/python/api/azureml-core/azureml.core.model(class)?view=azure-ml-py#deploy-workspace--name--models--inference-config-none--deployment-config-none--deployment-target-none--overwrite-false--show-output-false-?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109).

```python
from azureml.core.model import InferenceConfig, Model
from azureml.core.webservice import AciWebservice

inference_config = InferenceConfig(entry_script=script_file_name, environment=best_run.get_environment())

aciconfig = AciWebservice.deploy_configuration(cpu_cores = 1,
                                               memory_gb = 1,
                                               tags = {'type': "automl-heart-failure-prediction"},
                                               description = 'Sample service for AutoML Heart Failure Prediction')

aci_service_name = 'automl-hf-sdk'
aci_service = Model.deploy(ws, aci_service_name, [model], inference_config, aciconfig)
aci_service.wait_for_deployment(True)
print(aci_service.state)
```
砖  注砖 拽转  拽转.

### 3.3 爪专转 拽转 拽爪

转 爪专 转 拽转 拽爪 注  爪专转 拽 :

```python
data = {
    "data":
    [
        {
            'age': "60",
            'anaemia': "false",
            'creatinine_phosphokinase': "500",
            'diabetes': "false",
            'ejection_fraction': "38",
            'high_blood_pressure': "false",
            'platelets': "260000",
            'serum_creatinine': "1.40",
            'serum_sodium': "137",
            'sex': "false",
            'smoking': "false",
            'time': "130",
        },
    ],
}

test_sample = str.encode(json.dumps(data))
```
专  砖 拽   砖 爪专 :
```python
response = aci_service.run(input_data=test_sample)
response
```  
 专 专 `'{"result": [false]}'`. 砖注转  砖拽 砖 驻 砖砖 拽转 拽爪 爪专 转 转转 `false`, 专    爪驻 拽转 转拽祝 .

专转! 专注 砖转砖转  砖驻注  -Azure ML 爪注转 Azure ML SDK!

> **_NOTE:_** 专 砖转住 转 驻专拽,  转砖 拽 转  砖.

##  转专

砖 专 专 住驻 砖转 注砖转 爪注转 -SDK,  爪注专   注专 注  砖注专 . 砖转 转  砖 爪 注 转注 砖 -SDK  拽转 转 专拽 驻 注爪. 注 转注 砖 Azure ML SDK 爪 转 拽 `Pipeline`, 砖驻砖专转 爪专 爪专转 注. 爪专 注  住祝 砖 砖 砖转 爪注 专转 注.

**专:** 注专  [转注 -SDK](https://docs.microsoft.com/python/api/overview/azure/ml/?view=azure-ml-py?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109) 拽 转 驻转 砖专转 驻砖  "Pipeline". 注 爪 转 拽 `azureml.pipeline.core.Pipeline` 转爪转 驻砖.

## [砖 专 砖注专](https://ff-quizzes.netlify.app/en/ds/)

## 住拽专  注爪

砖注专  转 爪 , 驻注 砖转砖   转 转 住  住驻拽转  爪注转 Azure ML SDK 注. 注 -[转注 ](https://docs.microsoft.com/python/api/overview/azure/ml/?view=azure-ml-py?WT.mc_id=academic-77958-bethanycheum&ocid=AID3041109) 注 住祝 注 Azure ML SDK. 住 爪专  砖 爪注转 Azure ML SDK.

## 砖

[驻专拽 注 转 爪注转 Azure ML SDK](assignment.md)  

---

**转 转专**:  
住  转专 爪注转 砖专转 转专 住住  转转 [Co-op Translator](https://github.com/Azure/co-op-translator). 专转 砖 砖驻 拽, 砖 拽转 砖 砖转专  注砖  砖转   拽. 住 拽专 砖驻转 拽专转 爪专 砖 拽专 住转. 注专 注 拽专, 抓 砖转砖 转专 拽爪注 注  .  砖 专转  转  驻专砖转 砖转 注转 砖砖 转专 .