<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "47028abaaafa2bcb1079702d20569066",
  "translation_date": "2025-08-26T17:19:47+00:00",
  "source_file": "3-Data-Visualization/R/11-visualization-proportions/README.md",
  "language_code": "cs"
}
-->
# Vizualizace proporc√≠

|![ Sketchnote od [(@sketchthedocs)](https://sketchthedocs.dev) ](../../../sketchnotes/11-Visualizing-Proportions.png)|
|:---:|
|Vizualizace proporc√≠ - _Sketchnote od [@nitya](https://twitter.com/nitya)_ |

V t√©to lekci pou≈æijete jinou datovou sadu zamƒõ≈ôenou na p≈ô√≠rodu k vizualizaci proporc√≠, nap≈ô√≠klad kolik r≈Øzn√Ωch druh≈Ø hub se nach√°z√≠ v dan√© datov√© sadƒõ o houb√°ch. Pojƒème prozkoumat tyto fascinuj√≠c√≠ houby pomoc√≠ datov√© sady poch√°zej√≠c√≠ od Audubona, kter√° obsahuje podrobnosti o 23 druz√≠ch lupenat√Ωch hub z ƒçeled√≠ Agaricus a Lepiota. Vyzkou≈°√≠te si chutn√© vizualizace, jako jsou:

- Kol√°ƒçov√© grafy ü•ß
- Prstencov√© grafy üç©
- Waflov√© grafy üßá

> üí° Velmi zaj√≠mav√Ω projekt s n√°zvem [Charticulator](https://charticulator.com) od Microsoft Research nab√≠z√≠ bezplatn√© rozhran√≠ pro vizualizaci dat pomoc√≠ p≈ôetahov√°n√≠. V jednom ze sv√Ωch tutori√°l≈Ø tak√© pou≈æ√≠vaj√≠ tuto datovou sadu o houb√°ch! M≈Ø≈æete tak prozkoumat data a z√°rove≈à se nauƒçit pou≈æ√≠vat tuto knihovnu: [Tutori√°l Charticulator](https://charticulator.com/tutorials/tutorial4.html).

## [Kv√≠z p≈ôed lekc√≠](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/20)

## Seznamte se s houbami üçÑ

Houby jsou velmi zaj√≠mav√©. Naimportujme si datovou sadu, abychom je mohli studovat:

```r
mushrooms = read.csv('../../data/mushrooms.csv')
head(mushrooms)
```
Tabulka se zobraz√≠ s nƒõkolika skvƒõl√Ωmi daty pro anal√Ωzu:


| t≈ô√≠da     | tvar klobouku | povrch klobouku | barva klobouku | mod≈ôiny | v≈Ønƒõ    | p≈ôipojen√≠ lupen≈Ø | rozestup lupen≈Ø | velikost lupen≈Ø | barva lupen≈Ø | tvar t≈ôenƒõ | ko≈ôen t≈ôenƒõ | povrch t≈ôenƒõ nad prstencem | povrch t≈ôenƒõ pod prstencem | barva t≈ôenƒõ nad prstencem | barva t≈ôenƒõ pod prstencem | typ z√°voje | barva z√°voje | poƒçet prstenc≈Ø | typ prstence | barva v√Ωtrus≈Ø | populace | prost≈ôed√≠ |
| --------- | ------------- | --------------- | ------------- | ------- | ------- | ---------------- | --------------- | --------------- | ------------ | ----------- | ---------- | ------------------------ | ------------------------ | ---------------------- | ---------------------- | --------- | ---------- | ------------- | --------- | ------------- | ---------- | -------- |
| Jedovat√°  | Konvexn√≠      | Hladk√Ω          | Hnƒõd√°         | Mod≈ôiny | ≈†tiplav√° | Voln√©            | Tƒõsn√©           | √özk√©            | ƒåern√°        | Zvƒõt≈°uj√≠c√≠ se | Rovn√Ω      | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Vis√≠c√≠    | ƒåern√°          | Rozpt√Ωlen√° | Mƒõstsk√©  |
| Jedl√°     | Konvexn√≠      | Hladk√Ω          | ≈Ωlut√°         | Mod≈ôiny | Mandlov√° | Voln√©            | Tƒõsn√©           | ≈†irok√©          | ƒåern√°        | Zvƒõt≈°uj√≠c√≠ se | Kyjovit√Ω   | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Vis√≠c√≠    | Hnƒõd√°          | Poƒçetn√°    | Tr√°vy    |
| Jedl√°     | Zvoncovit√Ω    | Hladk√Ω          | B√≠l√°          | Mod≈ôiny | An√Ωzov√°  | Voln√©            | Tƒõsn√©           | ≈†irok√©          | Hnƒõd√°        | Zvƒõt≈°uj√≠c√≠ se | Kyjovit√Ω   | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Vis√≠c√≠    | Hnƒõd√°          | Poƒçetn√°    | Louky    |
| Jedovat√°  | Konvexn√≠      | ≈†upinat√Ω        | B√≠l√°          | Mod≈ôiny | ≈†tiplav√° | Voln√©            | Tƒõsn√©           | √özk√©            | Hnƒõd√°        | Zvƒõt≈°uj√≠c√≠ se | Rovn√Ω      | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Vis√≠c√≠    | ƒåern√°          | Rozpt√Ωlen√° | Mƒõstsk√©  |
| Jedl√°     | Konvexn√≠      | Hladk√Ω          | Zelen√°        | Bez mod≈ôin | ≈Ω√°dn√°  | Voln√©            | Hust√©           | ≈†irok√©          | ƒåern√°        | Z√∫≈æen√Ω       | Rovn√Ω      | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Pom√≠jiv√Ω  | Hnƒõd√°          | Hojn√°      | Tr√°vy    |
| Jedl√°     | Konvexn√≠      | ≈†upinat√Ω        | ≈Ωlut√°         | Mod≈ôiny | Mandlov√° | Voln√©            | Tƒõsn√©           | ≈†irok√©          | Hnƒõd√°        | Zvƒõt≈°uj√≠c√≠ se | Kyjovit√Ω   | Hladk√Ω                   | Hladk√Ω                   | B√≠l√°                   | B√≠l√°                   | ƒå√°steƒçn√Ω  | B√≠l√°       | Jeden          | Vis√≠c√≠    | ƒåern√°          | Poƒçetn√°    | Tr√°vy    |

Hned si v≈°imnete, ≈æe v≈°echna data jsou textov√°. Budete je muset p≈ôev√©st, abyste je mohli pou≈æ√≠t v grafu. Vƒõt≈°ina dat je ve skuteƒçnosti reprezentov√°na jako objekt:

```r
names(mushrooms)
```

V√Ωstup je:

```output
[1] "class"                    "cap.shape"               
 [3] "cap.surface"              "cap.color"               
 [5] "bruises"                  "odor"                    
 [7] "gill.attachment"          "gill.spacing"            
 [9] "gill.size"                "gill.color"              
[11] "stalk.shape"              "stalk.root"              
[13] "stalk.surface.above.ring" "stalk.surface.below.ring"
[15] "stalk.color.above.ring"   "stalk.color.below.ring"  
[17] "veil.type"                "veil.color"              
[19] "ring.number"              "ring.type"               
[21] "spore.print.color"        "population"              
[23] "habitat"            
```
Vezmƒõte tato data a p≈ôeveƒète sloupec 't≈ô√≠da' na kategorii:

```r
library(dplyr)
grouped=mushrooms %>%
  group_by(class) %>%
  summarise(count=n())
```

Nyn√≠, pokud si vytisknete data o houb√°ch, uvid√≠te, ≈æe byla rozdƒõlena do kategori√≠ podle t≈ô√≠dy jedovat√©/jedl√©:
```r
View(grouped)
```

| t≈ô√≠da | poƒçet |
| --------- | --------- |
| Jedl√°     | 4208      |
| Jedovat√°  | 3916      |

Pokud budete postupovat podle po≈ôad√≠ uveden√©ho v t√©to tabulce p≈ôi vytv√°≈ôen√≠ ≈°t√≠tk≈Ø kategori√≠, m≈Ø≈æete vytvo≈ôit kol√°ƒçov√Ω graf.

## Kol√°ƒç!

```r
pie(grouped$count,grouped$class, main="Edible?")
```
Voila, kol√°ƒçov√Ω graf zobrazuj√≠c√≠ proporce tƒõchto dat podle tƒõchto dvou t≈ô√≠d hub. Je velmi d≈Øle≈æit√© spr√°vnƒõ nastavit po≈ôad√≠ ≈°t√≠tk≈Ø, zejm√©na zde, tak≈æe si ovƒõ≈ôte po≈ôad√≠, ve kter√©m je pole ≈°t√≠tk≈Ø vytvo≈ôeno!

![kol√°ƒçov√Ω graf](../../../../../translated_images/pie1-wb.685df063673751f4b0b82127f7a52c7f9a920192f22ae61ad28412ba9ace97bf.cs.png)

## Prstence!

O nƒõco vizu√°lnƒõ zaj√≠mavƒõj≈°√≠ kol√°ƒçov√Ω graf je prstencov√Ω graf, co≈æ je kol√°ƒçov√Ω graf s otvorem uprost≈ôed. Pod√≠vejme se na na≈°e data touto metodou.

Pod√≠vejte se na r≈Øzn√° prost≈ôed√≠, kde houby rostou:

```r
library(dplyr)
habitat=mushrooms %>%
  group_by(habitat) %>%
  summarise(count=n())
View(habitat)
```
V√Ωstup je:
| prost≈ôed√≠ | poƒçet |
| --------- | --------- |
| Tr√°vy     | 2148      |
| List√≠     | 832       |
| Louky     | 292       |
| Cesty     | 1144      |
| Mƒõstsk√©   | 368       |
| Odpad     | 192       |
| Lesy      | 3148      |

Zde seskupujete sv√° data podle prost≈ôed√≠. Je jich uvedeno 7, tak≈æe je pou≈æijte jako ≈°t√≠tky pro sv≈Øj prstencov√Ω graf:

```r
library(ggplot2)
library(webr)
PieDonut(habitat, aes(habitat, count=count))
```

![prstencov√Ω graf](../../../../../translated_images/donut-wb.34e6fb275da9d834c2205145e39a3de9b6878191dcdba6f7a9e85f4b520449bc.cs.png)

Tento k√≥d pou≈æ√≠v√° dvƒõ knihovny - ggplot2 a webr. Pomoc√≠ funkce PieDonut z knihovny webr m≈Ø≈æeme snadno vytvo≈ôit prstencov√Ω graf!

Prstencov√© grafy v R lze vytvo≈ôit i pouze pomoc√≠ knihovny ggplot2. V√≠ce se o tom m≈Ø≈æete dozvƒõdƒõt [zde](https://www.r-graph-gallery.com/128-ring-or-donut-plot.html) a sami si to vyzkou≈°et.

Nyn√≠, kdy≈æ v√≠te, jak seskupit sv√° data a pot√© je zobrazit jako kol√°ƒç nebo prstenec, m≈Ø≈æete prozkoumat dal≈°√≠ typy graf≈Ø. Vyzkou≈°ejte waflov√Ω graf, co≈æ je jen jin√Ω zp≈Øsob zobrazen√≠ mno≈æstv√≠.

## Wafle!

Waflov√Ω graf je jin√Ω zp≈Øsob vizualizace mno≈æstv√≠ jako 2D pole ƒçtverc≈Ø. Zkuste vizualizovat r≈Øzn√© mno≈æstv√≠ barev klobouk≈Ø hub v t√©to datov√© sadƒõ. K tomu budete pot≈ôebovat nainstalovat pomocnou knihovnu s n√°zvem [waffle](https://cran.r-project.org/web/packages/waffle/waffle.pdf) a pou≈æ√≠t ji k vytvo≈ôen√≠ sv√© vizualizace:

```r
install.packages("waffle", repos = "https://cinc.rud.is")
```

Vyberte segment sv√Ωch dat pro seskupen√≠:

```r
library(dplyr)
cap_color=mushrooms %>%
  group_by(cap.color) %>%
  summarise(count=n())
View(cap_color)
```

Vytvo≈ôte waflov√Ω graf vytvo≈ôen√≠m ≈°t√≠tk≈Ø a pot√© seskupen√≠m sv√Ωch dat:

```r
library(waffle)
names(cap_color$count) = paste0(cap_color$cap.color)
waffle((cap_color$count/10), rows = 7, title = "Waffle Chart")+scale_fill_manual(values=c("brown", "#F0DC82", "#D2691E", "green", 
                                                                                     "pink", "purple", "red", "grey", 
                                                                                     "yellow","white"))
```

Pomoc√≠ waflov√©ho grafu m≈Ø≈æete jasnƒõ vidƒõt proporce barev klobouk≈Ø v t√©to datov√© sadƒõ hub. Zaj√≠mav√© je, ≈æe existuje mnoho hub se zelen√Ωmi klobouky!

![waflov√Ω graf](../../../../../translated_images/waffle.aaa75c5337735a6ef32ace0ffb6506ef49e5aefe870ffd72b1bb080f4843c217.cs.png)

V t√©to lekci jste se nauƒçili t≈ôi zp≈Øsoby vizualizace proporc√≠. Nejprve mus√≠te sv√° data seskupit do kategori√≠ a pot√© se rozhodnout, kter√Ω zp≈Øsob zobrazen√≠ dat je nejlep≈°√≠ - kol√°ƒç, prstenec nebo wafle. V≈°echny jsou chutn√© a u≈æivateli okam≈æitƒõ poskytuj√≠ p≈ôehled o datov√© sadƒõ.

## üöÄ V√Ωzva

Zkuste znovu vytvo≈ôit tyto chutn√© grafy v [Charticulator](https://charticulator.com).
## [Kv√≠z po lekci](https://purple-hill-04aebfb03.1.azurestaticapps.net/quiz/21)

## P≈ôehled a samostudium

Nƒõkdy nen√≠ z≈ôejm√©, kdy pou≈æ√≠t kol√°ƒçov√Ω, prstencov√Ω nebo waflov√Ω graf. Zde je nƒõkolik ƒçl√°nk≈Ø, kter√© si m≈Ø≈æete p≈ôeƒç√≠st na toto t√©ma:

https://www.beautiful.ai/blog/battle-of-the-charts-pie-chart-vs-donut-chart

https://medium.com/@hypsypops/pie-chart-vs-donut-chart-showdown-in-the-ring-5d24fd86a9ce

https://www.mit.edu/~mbarker/formula1/f1help/11-ch-c6.htm

https://medium.datadriveninvestor.com/data-visualization-done-the-right-way-with-tableau-waffle-chart-fdf2a19be402

Proveƒète vlastn√≠ v√Ωzkum a najdƒõte v√≠ce informac√≠ o tomto nelehk√©m rozhodov√°n√≠.

## Zad√°n√≠

[Vyzkou≈°ejte to v Excelu](assignment.md)

---

**Prohl√°≈°en√≠**:  
Tento dokument byl p≈ôelo≈æen pomoc√≠ slu≈æby pro automatick√Ω p≈ôeklad [Co-op Translator](https://github.com/Azure/co-op-translator). Aƒçkoli se sna≈æ√≠me o p≈ôesnost, mƒõjte pros√≠m na pamƒõti, ≈æe automatick√© p≈ôeklady mohou obsahovat chyby nebo nep≈ôesnosti. P≈Øvodn√≠ dokument v jeho p≈Øvodn√≠m jazyce by mƒõl b√Ωt pova≈æov√°n za autoritativn√≠ zdroj. Pro d≈Øle≈æit√© informace doporuƒçujeme profesion√°ln√≠ lidsk√Ω p≈ôeklad. Neodpov√≠d√°me za ≈æ√°dn√° nedorozumƒõn√≠ nebo nespr√°vn√© interpretace vypl√Ωvaj√≠c√≠ z pou≈æit√≠ tohoto p≈ôekladu.